<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Nouvelle Réception</title>
    <style>
        body { font-family: Arial; margin: 20px; }
        table { border-collapse: collapse; width: 100%; margin-bottom: 20px; }
        th, td { border: 1px solid #000; padding: 5px; text-align: left; }
        label { display: block; margin-top: 10px; font-weight: bold; }
        input[type="text"], input[type="number"], select, input[type="date"] {
            width: 300px; padding: 5px;
        }
        textarea { width: 300px; height: 60px; }
        .btn { padding: 6px 15px; margin-top: 10px; }
    </style>
</head>
<body>

<h2>Nouvelle réception</h2>

<!-- Onglets -->
<a href="#">Réception des achats</a>
&nbsp;
<a href="#">Autre</a>

<!-- Tableau simulation commandes (à adapter selon logique réelle) -->
<table>
    <thead>
    <tr>
        <th>Date achat</th>
        <th>Num d'achat</th>
        <th>Produit</th>
        <th>Unité</th>
        <th>Quantité</th>
        <th>Source</th>
        <th>Action</th>
    </tr>
    </thead>
    <tbody>
    <!-- Simulation : à remplacer par vraie boucle si tu as des données d’achats -->
    <tr>
        <td>15/04/2023</td>
        <td>F52631524</td>
        <td>Sucre</td>
        <td>Kg</td>
        <td>100</td>
        <td>Fournisseur 1</td>
        <td><a href="#">Réceptionner</a></td>
    </tr>
    <tr>
        <td>20/04/2023</td>
        <td>F52623</td>
        <td>Huile</td>
        <td>L</td>
        <td>200</td>
        <td>Fournisseur 10</td>
        <td><a href="#">Réceptionner</a></td>
    </tr>
    </tbody>
</table>

<!-- Formulaire -->
<form th:action="@{/receptions/save}" th:object="${reception}" method="post">
    <input type="hidden" th:field="*{id}"/>

    <label>Date de réception</label>
    <input type="date" th:field="*{dateReception}" required/>

    <label>Date d'achat</label>
    <input type="date" th:field="*{dateAchat}"/>

    <label>Numéro d'achat</label>
    <input type="text" th:field="*{numeroAchat}"/>

    <label>Produit</label>
    <select th:field="*{produit}" required>
        <option th:each="p : ${produits}" th:value="${p.id}" th:text="${p.libelle}">Produit</option>
    </select>

    <label>Unité</label>
    <input type="text" th:field="*{unite}" />

    <label>Quantité</label>
    <input type="number" th:field="*{quantite}" min="1"/>

    <label>Source</label>
    <input type="text" th:field="*{source}" />

    <label>Magasin</label>
    <select th:field="*{entrepot}">
        <option th:each="e : ${entrepots}" th:value="${e.id}" th:text="${e.nom}">Entrepot</option>
    </select>

    <label>Remarque</label>
    <textarea th:field="*{remarque}"></textarea>

    <br/>
    <input class="btn" type="submit" value="Valider"/>
    <a class="btn" th:href="@{/receptions}">Annuler</a>
</form>

</body>
</html>
